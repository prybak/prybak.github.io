<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wielki Quiz Wiedzy o Gdyni</title>
    <style>
        :root {
            --primary: #006994;
            --secondary: #00a8e8;
            --accent: #f9a825;
            --bg: #f0faff;
            --card: #ffffff;
            --text: #0a3d62;
            --correct: #2ecc71;
            --wrong: #e74c3c;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .quiz-container {
            background-color: var(--card);
            width: 100%;
            max-width: 750px;
            margin: 20px;
            padding: 30px;
            border-radius: 24px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: var(--primary);
            margin-top: 0;
            font-size: 1.8rem;
        }

        .icon-large {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
        }

        .progress-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .progress-bg {
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            margin-bottom: 25px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            width: 0%;
            transition: width 0.4s ease;
        }

        .question-type-badge {
            display: inline-block;
            padding: 5px 15px;
            background: var(--primary);
            color: white;
            border-radius: 30px;
            font-size: 0.75rem;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Styl dla zdjƒôƒá pomnik√≥w */
        .question-image-container {
            width: 100%;
            max-height: 300px;
            overflow: hidden;
            border-radius: 16px;
            margin-bottom: 20px;
            background: #f0f0f0;
            display: none;
            /* Pokazywane tylko gdy jest obrazek */
            border: 1px solid #ddd;
        }

        .question-image-container img {
            width: 100%;
            height: 300px;
            object-fit: contain;
        }

        .image-placeholder {
            width: 100%;
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #eef2f5;
            color: #999;
            border-radius: 16px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.3;
            color: var(--primary);
        }

        .options-list {
            display: grid;
            gap: 12px;
            text-align: left;
        }

        .option-item {
            display: flex;
            align-items: center;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .option-item:hover {
            border-color: var(--secondary);
            background-color: #f8fbff;
        }

        .option-item.selected {
            border-color: var(--primary);
            background-color: #eef9ff;
            box-shadow: 0 4px 6px rgba(0, 105, 148, 0.1);
        }

        .option-item.reveal-correct {
            background-color: var(--correct) !important;
            border-color: var(--correct) !important;
            color: white;
        }

        .option-item.reveal-wrong {
            background-color: var(--wrong) !important;
            border-color: var(--wrong) !important;
            color: white;
        }

        .option-item input {
            margin-right: 15px;
            transform: scale(1.3);
            cursor: pointer;
        }

        .btn-main {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 100%;
            margin-top: 25px;
            padding: 18px;
            border-radius: 14px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 105, 148, 0.3);
            transition: all 0.2s;
        }

        .btn-main:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-main:disabled {
            background-color: #cbd5e0;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .rationale {
            margin-top: 20px;
            padding: 18px;
            border-radius: 14px;
            background: #fff9eb;
            border-left: 6px solid var(--accent);
            text-align: left;
            display: none;
            font-size: 1rem;
            line-height: 1.5;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .score-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            border: 10px solid var(--accent);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 25px auto;
            background: white;
        }

        .score-val {
            font-size: 2.8rem;
            color: var(--primary);
            font-weight: 800;
        }

        .mode-selector {
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .mode-btn {
            padding: 16px 24px;
            border: 2px solid var(--primary);
            border-radius: 14px;
            background: white;
            color: var(--primary);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .mode-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
    </style>
</head>

<body>

    <div class="quiz-container">
        <!-- EKRAN STARTOWY -->
        <div id="start-screen" class="screen active">
            <span class="icon-large">‚öì</span>
            <h1>Wielki Quiz o Gdyni</h1>
            <p>Sprawd≈∫ swojƒÖ wiedzƒô o "mie≈õcie z morza i marze≈Ñ".</p>
            <p>Baza zawiera <strong>50 pyta≈Ñ</strong>, w tym nowƒÖ kategoriƒô: <strong>Rozpoznawanie Pomnik√≥w</strong>.
            </p>
            <div class="mode-selector">
                <p style="margin: 10px 0; font-weight: 600; color: var(--primary);">Dobierz tryb gry:</p>
                <button class="mode-btn" onclick="startQuizMode('all')">üìö Wszystkie Pytania</button>
                <button class="mode-btn" onclick="startQuizMode('monuments')">üóø Tylko Pomniki</button>
            </div>
        </div>

        <!-- EKRAN QUIZU -->
        <div id="quiz-screen" class="screen">
            <div class="progress-meta">
                <span>Pytanie <span id="curr-idx">1</span> / <span id="total-q">0</span></span>
                <span id="percent-text">0%</span>
            </div>
            <div class="progress-bg">
                <div id="progress-bar" class="progress-fill"></div>
            </div>

            <div id="q-badge" class="question-type-badge">Typ pytania</div>

            <!-- Miejsce na zdjƒôcie -->
            <div id="image-container" class="question-image-container">
                <img id="question-img" src="" alt="Pomnik w Gdyni">
            </div>
            <div id="placeholder-container" class="image-placeholder" style="display:none;">
                <span style="font-size: 3rem;">üóø</span>
                <p>Rozpoznaj ten pomnik</p>
            </div>

            <div id="question-text" class="question-text"></div>
            <div id="options-list" class="options-list"></div>
            <div id="rationale-box" class="rationale"></div>

            <button id="submit-btn" class="btn-main" onclick="checkAnswer()">Sprawd≈∫ odpowied≈∫</button>
            <button id="next-btn" class="btn-main" style="display:none;" onclick="handleNext()">Dalej ‚û°</button>
        </div>

        <!-- EKRAN WYNIK√ìW -->
        <div id="result-screen" class="screen">
            <span class="icon-large">üèÜ</span>
            <h1>Tw√≥j Wynik</h1>
            <div class="score-circle">
                <div class="score-val"><span id="final-score">0</span></div>
                <div style="color: #666;">pkt / <span id="final-max">0</span></div>
            </div>
            <p id="result-comment" style="font-size: 1.2rem; font-weight: 600; margin: 20px 0;"></p>
            <button class="btn-main" onclick="location.reload()">Zagraj Ponownie üîÑ</button>
        </div>
    </div>

    <script>
        const rawData = [
            // --- NOWA KATEGORIA: POMNIKI ZE ZDJƒòCIEM ---
            {
                q: "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                o: ["Pomnik in≈º. Tadeusza Wendy", "Pomnik Eugeniusza Kwiatkowskiego", "Pomnik Ludzi Morza", "Pomnik Jana Radtkego"],
                correct: [0],
                img: "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-twenda.jpeg", // TU WKLEJ URL DO ZDJƒòCIA 1 (Tadeusz Wenda)
                r: "Pomnik in≈º. Tadeusza Wendy znajduje siƒô na ko≈Ñcu Mola Rybackiego. Wenda by≈Ç g≈Ç√≥wnym projektantem i budowniczym portu gdy≈Ñskiego."
            },
            {
                q: "Rozpoznaj ten monument znajdujƒÖcy siƒô w Gdyni:",
                o: ["Pomnik Ludzi Morza", "Pomnik Ofiar Grudnia '70", "Pomnik Polski Morskiej", "Pomnik Marynarza Polskiego"],
                correct: [0],
                img: "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-ludziommorza.jpeg", // TU WKLEJ URL DO ZDJƒòCIA 2 (Ludzie Morza)
                r: "Pomnik Ludzi Morza sk≈Çada siƒô z czterech rze≈∫b symbolizujƒÖcych pracƒô na morzu: dokera, marynarza, rybaka i mechanika."
            },
            {
                q: "Jaki wa≈ºny pomnik widnieje na fotografii?",
                o: ["Pomnik Polski Morskiej", "Pomnik Za≈õlubin Polski z Morzem", "Pomnik Marynarza", "Pomnik J√≥zefa Pi≈Çsudskiego"],
                correct: [0],
                img: "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-polskimorskiej.jpeg",
                r: "Pomnik Polski Morskiej znajduje siƒô na Skwerze Ko≈õciuszki i jest miejscem najwa≈ºniejszych uroczysto≈õci pa≈Ñstwowych w Gdyni."
            },
            {
                q: "Kogo upamiƒôtnia ten pomnik przy Akwarium Gdy≈Ñskim?",
                o: ["J√≥zefa Conrada Korzeniowskiego", "Stefana ≈ªeromskiego", "W≈Çadys≈Çawa IV", "Leonida Teligi"],
                correct: [0],
                img: "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-jckorzeniowski.jpeg",
                r: "To pomnik s≈Çynnego pisarza-marynarza Josepha Conrada Korzeniowskiego, autora m.in. 'JƒÖdra ciemno≈õci'."
            },
            {
                q: "JakƒÖ postaƒá przedstawia ten pomnik przy ul. Starowiejskiej?",
                o: ["Antoniego Abrahama", "Jana Radtkego", "Kr√≥la Zygmunta Starego", "Eugeniusza Kwiatkowskiego"],
                correct: [0],
                img: "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-abraham.jpeg",
                r: "To Antoni Abraham, nazywany 'Kr√≥lem Kaszub', legendarny dzia≈Çacz walczƒÖcy o polsko≈õƒá tych ziem."
            },

            // --- PYTANIA Z TEKSTU (MULTI) ---
            {
                q: "Wymie≈Ñ 3 najstarsze zabytki Gdyni:",
                o: ["Ko≈õci√≥≈Ç ≈õw. Miko≈Çaja (Chylonia)", "Ko≈õci√≥≈Ç ≈õw. Micha≈Ça Archanio≈Ça na Oksywiu", "Domek Antoniego Abrahama", "Sea Towers", "Akwarium Gdy≈Ñskie"],
                correct: [0, 1, 2],
                multi: true,
                r: "SƒÖ to: XV-wieczny ko≈õci√≥≈Ç w Chyloni, XIII-wieczny na Oksywiu oraz historyczny domek Abrahama."
            },
            {
                q: "Kt√≥re z wymienionych to uczelnie wy≈ºsze w Gdyni?",
                o: ["Akademia Marynarki Wojennej", "Uniwersytet Morski", "Uniwersytet Jagiello≈Ñski", "Gda≈Ñski Uniwersytet Medyczny"],
                correct: [0, 1],
                multi: true,
                r: "Gdynia kszta≈Çci kadry morskie w AMW oraz na Uniwersytecie Morskim."
            },
            {
                q: "Wymie≈Ñ najwa≈ºniejsze ulice Gdyni (zaznacz poprawne):",
                o: ["≈öwiƒôtoja≈Ñska", "10 Lutego", "Starowiejska", "Morska", "Aleja Pi≈Çsudskiego", "Ulica Szeroka"],
                correct: [0, 1, 2, 3, 4],
                multi: true,
                r: "G≈Ç√≥wne osie miasta to ≈öwiƒôtoja≈Ñska, 10 Lutego, Starowiejska, Morska oraz Al. Pi≈Çsudskiego."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Harcerzom Gdy≈Ñskim", "Obro≈Ñc√≥w Wybrze≈ºa na Westerplatte", "Tym, co odeszli na wiecznƒÖ wachtƒô", "Pomnik Marynarza Polskiego"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomik-harcerze.jpg",
                "r": "Pomnik Harcerzy Gdy≈Ñskich upamiƒôtnia m≈Çodych skaut√≥w, kt√≥rzy polegli w walce o wolno≈õƒá ojczyzny we wrze≈õniu 1939 roku."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Ofiar Grudnia 1970", "Obro≈Ñc√≥w Poczty Polskiej", "Pomnik Jana Heweliusza", "Pomnik Trzech Krzy≈ºy"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomik-ofiary1970.jpg",
                "r": "Pomnik Ofiar Grudnia 1970 upamiƒôtnia robotnik√≥w, kt√≥rzy zginƒôli podczas tragicznych wydarze≈Ñ na Wybrze≈ºu."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["≈ªo≈Çnierzom Armii Krajowej", "Pomnik Partyzant√≥w", "Brama Oliwska", "Pomnik Marsza≈Çka Pi≈Çsudskiego"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-ak.jpg",
                "r": "Ten pomnik jest ho≈Çdem dla ≈ºo≈Çnierzy Armii Krajowej walczƒÖcych o niepodleg≈Ço≈õƒá Polski."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Eugeniusza Kwiatkowskiego", "Tadeusza Wendy", "Antoniego Abrahama", "Jana Radtkego"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-ekwatkowski.jpeg",
                "r": "Eugeniusz Kwiatkowski to budowniczy portu i miasta Gdyni, kt√≥rego pomnik znajduje siƒô przy ul. 10 Lutego."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Ofiar Grudnia 1970", "Pomnik Poleg≈Çych Stoczniowc√≥w", "Pomnik Solidarno≈õci", "Pomnik Ofiar Tyralier√≥w"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-grudzien1970.jpg",
                "r": "To kolejny monument upamiƒôtniajƒÖcy tragicznƒÖ ≈õmierƒá robotnik√≥w w grudniu 1970 roku."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Jana Paw≈Ça II", "Kardyna≈Ça Stefana Wyszy≈Ñskiego", "Papie≈ºa Franciszka", "Ksiƒôdza Jerzego Popie≈Çuszki"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-jp2.jpeg",
                "r": "Pomnik Jana Paw≈Ça II w Gdyni upamiƒôtnia wizytƒô papie≈ºa Polaka w tym mie≈õcie."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["J√≥zefa Pi≈Çsudskiego", "J√≥zefa Hallera", "Kazimierza Pu≈Çaskiego", "Tadeusza Ko≈õciuszki"],
                "correct": [0],
                "multi": false,
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-jpilsudski.webp",
                "r": "Marsza≈Çek J√≥zef Pi≈Çsudski zosta≈Ç upamiƒôtniony pomnikiem w centrum Gdyni za zas≈Çugi dla niepodleg≈Ço≈õci."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Mariusza Zaruskiego", "Josepha Conrada", "Krzysztofa Kolumba", "Adama Mickiewicza"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-mzaruski.jpg",
                "r": "Mariusz Zaruski by≈Ç pionierem polskiego ≈ºeglarstwa i wychowania morskiego."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Ofiar Terroru Komunistycznego", "Pamiƒôci Sybirak√≥w", "Ofiar Zbrodni Katy≈Ñskiej", "Wiƒô≈∫ni√≥w Politycznych"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-offiarterroryzmu.jpg",
                "r": "Pomnik ten jest po≈õwiƒôcony wszystkim ofiarom represji systemu komunistycznego."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Festiwalu Polskich Film√≥w Fabularnych", "Gdy≈Ñskiej Gwiazdy Filmowej", "Lwa Gda≈Ñskiego", "Z≈Çotych Klapk√≥w"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-pff.jpg",
                "r": "Gdynia to stolica polskiego kina, a ten monument nawiƒÖzuje do s≈Çynnego festiwalu filmowego."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Kazimierza Porƒôbskiego", "Wiceadmira≈Ça Unruga", "Admira≈Ça Steyera", "Kapitana Borchardta"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-porebski.jpg",
                "r": "Kazimierz Porƒôbski by≈Ç tw√≥rcƒÖ i dow√≥dcƒÖ Marynarki Wojennej odrodzonej Polski."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Burza, Wicher, Grom, B≈Çyskawica", "Okrƒôty Podwodne", "Niszczyciele Polskie", "Flota Ba≈Çtycka"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-statki.jpg",
                "r": "Pomnik ten upamiƒôtnia cztery legendarne polskie niszczyciele biorƒÖce udzia≈Ç w II wojnie ≈õwiatowej."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Stefana ≈ªeromskiego", "Henryka Sienkiewicza", "Boles≈Çawa Prusa", "W≈Çadys≈Çawa Reymonta"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-szeromski.jpg",
                "r": "Stefan ≈ªeromski to autor m.in. 'Wiatru od morza', mocno zwiƒÖzany z tematykƒÖ morskƒÖ."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Tym, co odeszli na wiecznƒÖ wachtƒô", "Pomnik Marynarza Polskiego", "Pomnik Rybaka", "Pomnik Latarnika"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-tymcoodeszli.jpg",
                "r": "Pomnik ten, znajdujƒÖcy siƒô na Bulwarze Nadmorskim, upamiƒôtnia ludzi morza, kt√≥rzy nigdy nie wr√≥cili z rejsu."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Gdynian Wysiedlonych", "Wiƒô≈∫ni√≥w Stutthofu", "Dzieci Wojny", "Ofiar Holocaustu"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-wysiedlonym.jpg",
                "r": "Pomnik Gdynian Wysiedlonych przypomina o masowych przymusowych wysiedleniach mieszka≈Ñc√≥w Gdyni przez Niemc√≥w w 1939 roku."
            },
            {
                "q": "Jak nazywa siƒô pomnik przedstawiony na zdjƒôciu?",
                "o": ["Pamiƒôci Zamƒôczonych za Wiarƒô i Ojczyznƒô", "Ksiƒôdza Jerzego Popie≈Çuszki", "Duchowie≈Ñstwa Pomorskiego", "Obro≈Ñc√≥w Chrze≈õcija≈Ñstwa"],
                "correct": [0],
                "img": "https://raw.githubusercontent.com/prybak/prybak.github.io/main/img/pomnik-zawaire.jpg",
                "r": "Monument ten honoruje osoby duchowne i ≈õwieckie, kt√≥re odda≈Çy ≈ºycie za warto≈õci narodowe i religijne."
            },
            {
                "q": "Podaj liczbƒô zameldowanych mieszka≈Ñc√≥w Gdyni wed≈Çug danych z ko≈Ñca 2021 roku:",
                "o": ["246 309", "224 824", "250 000", "235 400"],
                "correct": [1],
                "multi": false,
                "r": "Na koniec 2021 roku liczba zameldowanych mieszka≈Ñc√≥w wynosi≈Ça dok≈Çadnie 224 824 osoby."
            },
            {
                "q": "Kt√≥re z wymienionych to pe≈Çne nazwy gdy≈Ñskich teatr√≥w?",
                "o": ["Teatr Miejski im. Witolda Gombrowicza", "Teatr Muzyczny im. Danuty Baduszkowej", "Teatr Narodowy", "Teatr Wybrze≈ºe"],
                "correct": [0, 1],
                "multi": true,
                "r": "G≈Ç√≥wne sceny miasta to Teatr Miejski im. W. Gombrowicza oraz s≈Çynny Teatr Muzyczny im. D. Baduszkowej."
            },
            {
                "q": "Wska≈º uczelnie wy≈ºsze, kt√≥re majƒÖ swojƒÖ siedzibƒô w Gdyni:",
                "o": ["Akademia Marynarki Wojennej", "Uniwersytet Morski", "Akademia Muzyczna", "Uniwersytet Gda≈Ñski"],
                "correct": [0, 1],
                "multi": true,
                "r": "Gdynia jest siedzibƒÖ Akademii Marynarki Wojennej oraz Uniwersytetu Morskiego."
            },
            {
                "q": "Wybierz oficjalne dzielnice Gdyni:",
                "o": ["Babie Do≈Çy", "Chylonia", "Cisowa", "Dzia≈Çki Le≈õne", "DƒÖbrowa", "Oliwa"],
                "correct": [0, 1, 2, 3, 4],
                "multi": true,
                "r": "Babie Do≈Çy, Chylonia, Cisowa, Dzia≈Çki Le≈õne i DƒÖbrowa to jedne z 21 dzielnic Gdyni."
            },
            {
                "q": "Zaznacz poprawne nazwy dzielnic Gdyni:",
                "o": ["Grab√≥wek", "Kamienna G√≥ra", "Karwiny", "Leszczynki", "Ma≈Çy Kack", "Sopot Centrum"],
                "correct": [0, 1, 2, 3, 4],
                "multi": true,
                "r": "Do Gdyni nale≈ºƒÖ m.in. Grab√≥wek, luksusowa Kamienna G√≥ra oraz rozleg≈Çe Karwiny."
            },
            {
                "q": "Kt√≥ry z tych okrƒôt√≥w jest udostƒôpniony do zwiedzania jako muzeum w porcie?",
                "o": ["ORP B≈Çyskawica", "ORP Orze≈Ç", "ORP Grom", "ORP Wicher"],
                "correct": [0],
                "multi": false,
                "r": "Niszczyciel ORP B≈Çyskawica to legenda floty wojennej i najstarszy zachowany okrƒôt tego typu."
            },
            {
                "q": "Gdzie odbywa siƒô coroczny Festiwal Polskich Film√≥w Fabularnych w Gdyni?",
                "o": ["W Teatrze Miejskim w Gdyni", "W Urzƒôdzie Miasta", "W Hali Gdynia Arena", "W Muzeum Emigracji"],
                "correct": [0],
                "multi": false,
                "r": "To najwa≈ºniejsze ≈õwiƒôto polskiego kina odbywa siƒô w Teatrze Miejskim w Gdyni."
            },
            {
                "q": "Z jakiego materia≈Çu wykonany by≈Ç pierwszy krzy≈º na Kamiennej G√≥rze?",
                "o": ["Z drewna", "Z metalu", "Z betonu", "Z kamienia"],
                "correct": [0],
                "multi": false,
                "r": "Pierwszy krzy≈º stanƒÖ≈Ç na Kamiennej G√≥rze w 1920 roku i by≈Ç konstrukcjƒÖ drewnianƒÖ."
            },
            {
                "q": "W kt√≥rym roku historyczny uk≈Çad urbanistyczny ≈õr√≥dmie≈õcia Gdyni zosta≈Ç uznany za Pomnik Historii?",
                "o": ["2010", "2015", "1926", "2020"],
                "correct": [1],
                "multi": false,
                "r": "To zaszczytne wyr√≥≈ºnienie dla architektury modernistycznej Gdynia otrzyma≈Ça w 2015 roku."
            },
            {
                "q": "Jakie czƒô≈õci Witomina funkcjonujƒÖ jako oficjalne nazwy dzielnic?",
                "o": ["Witomino-Radiostacja", "Witomino-Port", "Witomino-Le≈õnicz√≥wka", "Witomino-Centrum"],
                "correct": [0, 2],
                "multi": true,
                "r": "Administracyjnie wyr√≥≈ºniamy Witomino-Radiostacjƒô oraz Witomino-Le≈õnicz√≥wkƒô."
            },
            {
                "q": "Kt√≥re z wymienionych os√≥b sƒÖ kluczowe dla historii budowy Gdyni?",
                "o": ["Eugeniusz Kwiatkowski", "Tadeusz Wenda", "Jan Radtke", "Antoni Abraham"],
                "correct": [0, 1, 2, 3],
                "multi": true,
                "r": "To wielkie postacie: od wizjonera Kwiatkowskiego, przez in≈ºyniera Wendƒô, po lokalnych dzia≈Çaczy jak Radtke i Abraham."
            },
            {
                "q": "Kt√≥ra ulica upamiƒôtnia datƒô uzyskania przez Gdyniƒô praw miejskich?",
                "o": ["≈öwiƒôtoja≈Ñska", "Starowiejska", "10 Lutego", "Morska"],
                "correct": [2],
                "multi": false,
                "r": "Ulica 10 Lutego nawiƒÖzuje bezpo≈õrednio do daty 10.02.1926 r."
            },
            {
                "q": "Jak geograficznie definiowane jest po≈Ço≈ºenie Gdyni?",
                "o": ["Nad otwartym Morzem Ba≈Çtyckim", "Nad ZatokƒÖ Gda≈ÑskƒÖ", "Nad uj≈õciem rzeki Wis≈Çy", "Nad Zalewem Wi≈õlanym"],
                "correct": [1],
                "multi": false,
                "r": "Gdynia to miasto portowe le≈ºƒÖce bezpo≈õrednio nad ZatokƒÖ Gda≈ÑskƒÖ."
            },
            {
                "q": "JakƒÖ funkcjƒô zawodowƒÖ pe≈Çni≈Ç Feliks Nowowiejski, patron Bulwaru Nadmorskiego?",
                "o": ["By≈Ç in≈ºynierem", "By≈Ç kompozytorem", "By≈Ç politykiem", "By≈Ç wojskowym"],
                "correct": [1],
                "multi": false,
                "r": "Feliks Nowowiejski to wybitny kompozytor, tw√≥rca m.in. melodii 'Roty'."
            },
            {
                "q": "Wska≈º dzielnice Gdyni zaczynajƒÖce siƒô na literƒô 'O':",
                "o": ["Ob≈Çu≈ºe", "Oksywie", "Or≈Çowo", "Oliwa"],
                "correct": [0, 1, 2],
                "multi": true,
                "r": "Ob≈Çu≈ºe, Oksywie i Or≈Çowo to rdzenne dzielnice Gdyni. Oliwa le≈ºy w Gda≈Ñsku."
            },
            {
                "q": "Kto za≈Ço≈ºy≈Ç Ko≈õci√≥≈Ç ≈õw. Miko≈Çaja w Gdyni-Chyloni?",
                "o": ["Krzy≈ºacy", "Cystersi", "Dominikanie", "Franciszkany"],
                "correct": [0],
                "multi": false,
                "r": "Ten historyczny ko≈õci√≥≈Ç w Chyloni zosta≈Ç ufundowany przez Zakon Krzy≈ºacki."
            },
            {
                "q": "Wybierz dzielnice Gdyni, kt√≥rych nazwa zaczyna siƒô na literƒô 'W':",
                "o": ["Wielki Kack", "Witomino-Radiostacja", "Wzg√≥rze ≈öw. Maksymiliana", "Westerplatte"],
                "correct": [0, 1, 2],
                "multi": true,
                "r": "To Wielki Kack, Witomino oraz Wzg√≥rze ≈öw. Maksymiliana."
            },
            {
                "q": "Ile ryb widnieje w herbie miasta Gdyni?",
                "o": ["Dwie", "Trzy", "Jedna", "Cztery"],
                "correct": [0],
                "multi": false,
                "r": "W herbie Gdyni znajdujƒÖ siƒô dwie z≈Çote ryby zwr√≥cone w przeciwne strony."
            },
            {
                "q": "Wska≈º trzy najstarsze zabytki Gdyni:",
                "o": ["Ko≈õci√≥≈Ç ≈õw. Miko≈Çaja", "Ko≈õci√≥≈Ç Micha≈Ça Archanio≈Ça na Oksywiu", "Domek Antoniego Abrahama", "Hala Targowa"],
                "correct": [0, 1, 2],
                "multi": true,
                "r": "SƒÖ to: XV-wieczny ko≈õci√≥≈Ç w Chyloni, XIII-wieczny na Oksywiu oraz historyczny domek Abrahama."
            },
            {
                "q": "W kt√≥rym roku Gdynia liczy≈Ça rekordowe 246 309 mieszka≈Ñc√≥w?",
                "o": ["2018", "2021", "1926", "2000"],
                "correct": [0],
                "multi": false,
                "r": "Liczba 246 309 mieszka≈Ñc√≥w zosta≈Ça odnotowana w statystykach za rok 2018."
            },
            {
                "q": "Ile metr√≥w wysoko≈õci ma metalowy krzy≈º wie≈ÑczƒÖcy KamiennƒÖ G√≥rƒô?",
                "o": ["25 metr√≥w", "15 metr√≥w", "35 metr√≥w", "10 metr√≥w"],
                "correct": [0],
                "multi": false,
                "r": "Obecny, pod≈õwietlany krzy≈º ma wysoko≈õƒá 25 metr√≥w."
            },
            {
                "q": "Jak nazywa siƒô skwer upamiƒôtniajƒÖcy brytyjskie miasto partnerskie Gdyni?",
                "o": ["Skwer Plymouth", "Skwer Londy≈Ñski", "Skwer Bristol", "Skwer Portsmouth"],
                "correct": [0],
                "multi": false,
                "r": "Jest to Skwer Plymouth, po≈Ço≈ºony w pobli≈ºu bulwaru."
            },
            {
                "q": "Kto by≈Ç wizjonerem i g≈Ç√≥wnym pomys≈ÇodawcƒÖ budowy portu?",
                "o": ["Eugeniusz Kwiatkowski", "Tadeusz Wenda", "Jan Radtke", "Leon Staniszewski"],
                "correct": [0],
                "multi": false,
                "r": "Inicjatorem politycznym i gospodarczym budowy by≈Ç minister Eugeniusz Kwiatkowski."
            },
            {
                "q": "W kt√≥rym roku Gdynia uzyska≈Ça prawa miejskie?",
                "o": ["1926", "1918", "1945", "1920"],
                "correct": [0],
                "multi": false,
                "r": "Prawa miejskie zosta≈Çy nadane Gdyni dok≈Çadnie 10 lutego 1926 roku."
            },
            {
                "q": "Jak brzmi popularne has≈Ço okre≈õlajƒÖce powstanie Gdyni?",
                "o": ["Miasto z morza i marze≈Ñ", "Okno na ≈õwiat", "Brama Ba≈Çtyku", "Per≈Ça P√≥≈Çnocy"],
                "correct": [0],
                "multi": false,
                "r": "Has≈Ço 'Gdynia - miasto z morza i marze≈Ñ' podkre≈õla b≈ÇyskawicznƒÖ budowƒô miasta od podstaw."
            },
            {
                "q": "Kogo nazywano 'Kr√≥lem Kaszub'?",
                "o": ["Antoniego Abrahama", "Jana Radtkego", "Tadeusz Wendƒô", "Eugeniusza Kwiatkowskiego"],
                "correct": [0],
                "multi": false,
                "r": "Ten przydomek nosi≈Ç Antoni Abraham, wielki orƒôdownik polsko≈õci Pomorza."
            },
            {
                "q": "Wymie≈Ñ 3 najstarsze zabytki Gdyni:",
                "o": ["Ko≈õci√≥≈Ç ≈õw. Miko≈Çaja (Chylonia)", "Ko≈õci√≥≈Ç ≈õw. Micha≈Ça Archanio≈Ça na Oksywiu", "Domek Antoniego Abrahama", "Sea Towers", "Akwarium Gdy≈Ñskie"],
                "correct": [0, 1, 2],
                "multi": true,
                "r": "SƒÖ to: XV-wieczny ko≈õci√≥≈Ç w Chyloni, XIII-wieczny na Oksywiu oraz historyczny domek Abrahama."
            },
            {
                "q": "Kt√≥re z wymienionych to uczelnie wy≈ºsze w Gdyni?",
                "o": ["Akademia Marynarki Wojennej", "Uniwersytet Morski", "Uniwersytet Jagiello≈Ñski", "Gda≈Ñski Uniwersytet Medyczny"],
                "correct": [0, 1],
                "multi": true,
                "r": "Gdynia kszta≈Çci kadry morskie w AMW oraz na Uniwersytecie Morskim."
            },
            {
                "q": "Wymie≈Ñ najwa≈ºniejsze ulice Gdyni (zaznacz poprawne):",
                "o": ["≈öwiƒôtoja≈Ñska", "10 Lutego", "Starowiejska", "Morska", "Aleja Pi≈Çsudskiego", "Ulica Szeroka"],
                "correct": [0, 1, 2, 3, 4],
                "multi": true,
                "r": "G≈Ç√≥wne osie miasta to ≈öwiƒôtoja≈Ñska, 10 Lutego, Starowiejska, Morska oraz Al. Pi≈Çsudskiego."
            },
            {
                "q": "Nad jakƒÖ zatokƒÖ le≈ºy Gdynia?",
                "o": ["Zatoka Gda≈Ñska", "Zatoka Pucka", "Zatoka Pomorska", "Zatoka Szczeci≈Ñska"],
                "correct": [0],
                "r": "Gdynia le≈ºy nad odnogƒÖ Ba≈Çtyku - ZatokƒÖ Gda≈ÑskƒÖ."
            },
            {
                "q": "Czyje imiƒô nosi Gdy≈Ñski Bulwar Nadmorski?",
                "o": ["Feliksa Nowowiejskiego", "Jana Paw≈Ça II", "Tadeusza Wendy", "Eugeniusza Kwiatkowskiego"],
                "correct": [0],
                "r": "Nosi imiƒô kompozytora Feliksa Nowowiejskiego."
            },
            {
                "q": "Pomys≈ÇodawcƒÖ budowy portu by≈Ç in≈ºynier:",
                "o": ["Eugeniusz Kwiatkowski", "Tadeusz Wenda", "Jan Radtke", "Stefan ≈ªeromski"],
                "correct": [0],
                "r": "To wizja ministra Eugeniusza Kwiatkowskiego."
            },
            {
                "q": "BudowƒÖ portu gdy≈Ñskiego kierowa≈Ç in≈ºynier:",
                "o": ["Tadeusz Wenda", "Eugeniusz Kwiatkowski", "Jan Radtke", "Antoni Abraham"],
                "correct": [0],
                "r": "To in≈ºynier Tadeusz Wenda zaprojektowa≈Ç i budowa≈Ç port."
            },
            {
                "q": "Jaki pomnik stoi w najwy≈ºszym punkcie Kamiennej G√≥ry?",
                "o": ["25-metrowy krzy≈º", "Pomnik Marynarza", "Pomnik Harcerzy", "Zegar S≈Çoneczny"],
                "correct": [0],
                "r": "To pod≈õwietlany metalowy krzy≈º o wysoko≈õci 25 metr√≥w."
            },
            {
                "q": "W kt√≥rym roku Gdynia zosta≈Ça uwolniona spod okupacji?",
                "o": ["28 marca 1945", "10 lutego 1945", "1 wrze≈õnia 1944", "11 listopada 1945"],
                "correct": [0],
                "r": "Walki o Gdyniƒô zako≈Ñczy≈Çy siƒô 28 marca 1945 roku."
            },
            {
                "q": "Nazwa Gdyni podczas niemieckiej okupacji to:",
                "o": ["Gotenhafen", "Gedingen", "Zoppot", "Danzig"],
                "correct": [0],
                "r": "Niemcy zmienili nazwƒô na Gotenhafen."
            },
            {
                "q": "Ile dzielnic posiada Gdynia?",
                "o": ["21", "18", "25", "15"],
                "correct": [0],
                "r": "Gdynia podzielona jest na 21 dzielnic."
            },
            {
                "q": "Najd≈Çu≈ºsza ulica w Gdyni to:",
                "o": ["Morska", "≈öwiƒôtoja≈Ñska", "Zwyciƒôstwa", "Chwaszczy≈Ñska"],
                "correct": [0],
                "r": "Ulica Morska ciƒÖgnie siƒô kilometrami w stronƒô Rumi."
            },
            {
                "q": "Najstarszy budynek mieszkalny w Gdyni ≈ör√≥dmie≈õciu to:",
                "o": ["Domek Abrahama", "UrzƒÖd Miasta", "Hala Targowa", "Sea Towers"],
                "correct": [0],
                "r": "To Domek Abrahama przy ul. Starowiejskiej."
            },
            {
                "q": "Gdzie znajduje siƒô Torpedownia?",
                "o": ["Babie Do≈Çy", "Or≈Çowo", "Oksywie", "Port"],
                "correct": [0],
                "r": "Ruiny torpedowni z II wojny sƒÖ w Babich Do≈Çach."
            },
            {
                "q": "Kto jest autorem projektu herbu Gdyni?",
                "o": ["Leon Staniszewski", "Jan Matejko", "Antoni Abraham", "Stefan ≈ªeromski"],
                "correct": [0],
                "r": "Leon Staniszewski zaprojektowa≈Ç go w 1946 roku."
            },
            {
                "q": "Gdynia otrzyma≈Ça status 'Pomnika Historii' w roku:",
                "o": ["2015", "1926", "2000", "2024"],
                "correct": [0],
                "r": "Prezydent RP przyzna≈Ç ten status w 2015 roku."
            },
            {
                "q": "Jak nazywa siƒô bezp≈Çatna kolejka w centrum?",
                "o": ["Kolejka na KamiennƒÖ G√≥rƒô", "Tramwaj wodny", "SKM", "Gondola portowa"],
                "correct": [0],
                "r": "To kolejka linowo-terenowa na KamiennƒÖ G√≥rƒô."
            },
            {
                "q": "Co znajduje siƒô w herbie Gdyni?",
                "o": ["Dwie ryby przebite mieczem", "Gryf i miecz", "Kotwica i lwy", "Statek i mewy"],
                "correct": [0],
                "r": "W herbie sƒÖ dwie ≈º√≥≈Çte ryby i miecz."
            },
            {
                "q": "Muzeum Emigracji mie≈õci siƒô w:",
                "o": ["Dworcu Morskim", "Akwarium", "Teatrze Muzycznym", "Urzƒôdzie Miasta"],
                "correct": [0],
                "r": "To historyczny punkt odpraw transatlantyk√≥w."
            },
            {
                "q": "Dzielnica s≈ÇynƒÖca z klifu i mola to:",
                "o": ["Or≈Çowo", "Oksywie", "Babie Do≈Çy", "Red≈Çowo"],
                "correct": [0],
                "r": "Or≈Çowo to najbardziej malownicza czƒô≈õƒá Gdyni."
            },
            {
                "q": "Kogo upamiƒôtnia pomnik przy Akwarium Gdy≈Ñskim?",
                "o": ["J√≥zefa Conrada Korzeniowskiego", "Stefana ≈ªeromskiego", "W≈Çadys≈Çawa IV", "Leonida Teligi"],
                "correct": [0],
                "r": "To pomnik s≈Çynnego pisarza-marynarza Josepha Conrada Korzeniowskiego."
            },
            {
                "q": "W kt√≥rym roku Gdynia liczy≈Ça rekordowe 246 309 mieszka≈Ñc√≥w?",
                "o": ["2018", "2021", "1926", "2000"],
                "correct": [0],
                "r": "Liczba 246 309 mieszka≈Ñc√≥w zosta≈Ça odnotowana w statystykach za rok 2018."
            },
            {
                "q": "Ile metr√≥w wysoko≈õci ma metalowy krzy≈º wie≈ÑczƒÖcy KamiennƒÖ G√≥rƒô?",
                "o": ["25 metr√≥w", "15 metr√≥w", "35 metr√≥w", "10 metr√≥w"],
                "correct": [0],
                "r": "Obecny, pod≈õwietlany krzy≈º ma wysoko≈õƒá 25 metr√≥w."
            },
            {
                "q": "Jak nazywa siƒô skwer upamiƒôtniajƒÖcy brytyjskie miasto partnerskie Gdyni?",
                "o": ["Skwer Plymouth", "Skwer Londy≈Ñski", "Skwer Bristol", "Skwer Portsmouth"],
                "correct": [0],
                "r": "Jest to Skwer Plymouth, po≈Ço≈ºony w pobli≈ºu bulwaru."
            },
            {
                "q": "Kto by≈Ç wizjonerem i g≈Ç√≥wnym pomys≈ÇodawcƒÖ budowy portu?",
                "o": ["Eugeniusz Kwiatkowski", "Tadeusz Wenda", "Jan Radtke", "Leon Staniszewski"],
                "correct": [0],
                "r": "Inicjatorem politycznym i gospodarczym budowy by≈Ç minister Eugeniusz Kwiatkowski."
            },
            {
                "q": "Czym dla Gdyni jest Zatoka Gda≈Ñska?",
                "o": ["OdnogƒÖ Morza Ba≈Çtyckiego", "OdnogƒÖ rzeki Wis≈Çy", "Zalewem s≈Çodkowodnym", "Jeziorem przybrze≈ºnych"],
                "correct": [0],
                "r": "Geograficznie Zatoka Gda≈Ñska to du≈ºa odnoga po≈Çudniowego Ba≈Çtyku."
            },
            {
                "q": "W kt√≥rym roku Gdynia uzyska≈Ça prawa miejskie?",
                "o": ["1926", "1918", "1945", "1920"],
                "correct": [0],
                "r": "Prawa miejskie zosta≈Çy nadane Gdyni dok≈Çadnie 10 lutego 1926 roku."
            },
            {
                "q": "Jak brzmi popularne has≈Ço okre≈õlajƒÖce powstanie Gdyni?",
                "o": ["Miasto z morza i marze≈Ñ", "Okno na ≈õwiat", "Brama Ba≈Çtyku", "Per≈Ça P√≥≈Çnocy"],
                "correct": [0],
                "r": "Has≈Ço 'Gdynia - miasto z morza i marze≈Ñ' podkre≈õla b≈ÇyskawicznƒÖ budowƒô miasta od podstaw."
            },
            {
                "q": "Kogo nazywano 'Kr√≥lem Kaszub'?",
                "o": ["Antoniego Abrahama", "Jana Radtkego", "Tadeusz Wendƒô", "Eugeniusza Kwiatkowskiego"],
                "correct": [0],
                "r": "Ten przydomek nosi≈Ç Antoni Abraham, wielki orƒôdownik polsko≈õci Pomorza."
            }

        ];

        // Dodaj brakujƒÖce pytania do pe≈Çnej bazy 50 (logika wype≈Çnienia)
        // [W tym miejscu w kodzie sƒÖ wszystkie pytania z poprzednich wersji, ≈ÇƒÖcznie 50 pozycji]

        let quizData = [];
        let currentIdx = 0;
        let score = 0;

        function startQuizMode(mode) {
            let filteredData = rawData.filter(q => {
                if (mode === 'monuments') {
                    return q.img && q.img !== '';
                }
                return true;
            });

            quizData = [...filteredData];
            shuffle(quizData);

            currentIdx = 0;
            score = 0;

            document.getElementById('total-q').innerText = quizData.length;
            document.getElementById('start-screen').classList.remove('active');
            document.getElementById('quiz-screen').classList.add('active');

            showQuestion();
        }

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function showQuestion() {
            const q = quizData[currentIdx];
            document.getElementById('curr-idx').innerText = currentIdx + 1;
            document.getElementById('question-text').innerText = q.q;

            // ZarzƒÖdzanie obrazkiem
            const imgContainer = document.getElementById('image-container');
            const placeholder = document.getElementById('placeholder-container');
            const imgElement = document.getElementById('question-img');

            if (q.img && q.img !== "") {
                imgElement.src = q.img;
                imgContainer.style.display = "block";
                placeholder.style.display = "none";
            } else if (q.q.includes("zdjƒôciu") || q.q.includes("fotografii")) {
                imgContainer.style.display = "none";
                placeholder.style.display = "flex";
            } else {
                imgContainer.style.display = "none";
                placeholder.style.display = "none";
            }

            document.getElementById('q-badge').innerText = q.multi ? "Wielokrotny wyb√≥r" : (q.img ? "Rozpoznaj obiekt" : "Jednokrotny wyb√≥r");

            const progress = (currentIdx / quizData.length) * 100;
            document.getElementById('progress-bar').style.width = progress + "%";
            document.getElementById('percent-text').innerText = Math.round(progress) + "%";

            const list = document.getElementById('options-list');
            list.innerHTML = '';
            document.getElementById('rationale-box').style.display = 'none';
            document.getElementById('submit-btn').style.display = 'block';
            document.getElementById('submit-btn').disabled = true;
            document.getElementById('next-btn').style.display = 'none';

            // Stw√≥rz losowƒÖ kolejno≈õƒá opcji
            const optionIndices = q.o.map((_, idx) => idx);
            shuffle(optionIndices);

            optionIndices.forEach((originalIndex) => {
                const text = q.o[originalIndex];
                const label = document.createElement('label');
                label.className = 'option-item';

                const input = document.createElement('input');
                input.type = q.multi ? 'checkbox' : 'radio';
                input.name = 'quiz-opt';
                input.value = originalIndex;

                input.onchange = () => {
                    document.getElementById('submit-btn').disabled = false;
                    if (!q.multi) {
                        document.querySelectorAll('.option-item').forEach(i => i.classList.remove('selected'));
                    }
                    label.classList.toggle('selected', input.checked);
                };

                label.appendChild(input);
                label.appendChild(document.createTextNode(text));
                list.appendChild(label);
            });
        }

        function checkAnswer() {
            const q = quizData[currentIdx];
            const selected = Array.from(document.querySelectorAll('input[name="quiz-opt"]:checked')).map(i => parseInt(i.value));
            const items = document.querySelectorAll('.option-item');

            const correctIndices = q.correct;
            const isCorrect = selected.length === correctIndices.length &&
                selected.every(val => correctIndices.includes(val));

            if (isCorrect) score++;

            items.forEach((item, idx) => {
                const input = item.querySelector('input');
                const isActuallyCorrect = correctIndices.includes(parseInt(input.value));
                if (isActuallyCorrect) {
                    item.classList.add('reveal-correct');
                } else if (input.checked) {
                    item.classList.add('reveal-wrong');
                }
                input.disabled = true;
            });

            document.getElementById('rationale-box').style.display = 'none';
            document.getElementById('submit-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'block';
        }

        function handleNext() {
            currentIdx++;
            if (currentIdx < quizData.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.remove('active');
            document.getElementById('result-screen').classList.add('active');
            document.getElementById('final-score').innerText = score;
            document.getElementById('final-max').innerText = quizData.length;

            const comm = document.getElementById('result-comment');
            const ratio = score / quizData.length;
            if (ratio === 1) comm.innerText = "‚öì IDEALNIE! Jeste≈õ Gdy≈Ñskim Admira≈Çem Wiedzy! üèÜ";
            else if (ratio > 0.8) comm.innerText = "‚≠ê Gratulacje! Twoja wiedza o Gdyni jest imponujƒÖca!";
            else if (ratio > 0.5) comm.innerText = "üëç Ca≈Çkiem nie≈∫le! Znasz miasto dobrze, ale kilka detali umknƒô≈Ço.";
            else comm.innerText = "‚öì Gdynia ma jeszcze wiele tajemnic przed TobƒÖ. Spr√≥buj ponownie!";
        }
    </script>
</body>

</html>